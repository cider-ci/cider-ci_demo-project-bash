_cider-ci_include: .cider-ci/shared/defaults.yml


task_defaults: 
  environment_variables:
     STAR: Sun
     PLANET: Earth
     MOON: Moon
  
tasks: 
- name: Earth check
  scripts: 
  - body: |
      test $STAR = 'Sun'  \
      && test $PLANET = 'Earth' \
      && test $MOON = 'Moon' 

subcontexts: 


  - name: Jupiter 

    task_defaults: 
      environment_variables:
        PLANET: Jupiter

    tasks: 
    - name: Jupiter check
      scripts: 
      - body: |
          test $STAR = 'Sun'  \
          && test $PLANET = 'Jupiter'

    subcontexts: 

    - name: Io

      task_defaults: 
        environment_variables:
          MOON: Io

      tasks: 
      - name: Io check
        scripts: 
        - body: |
            test $STAR = 'Sun'  \
            && test $PLANET = 'Jupiter' \
            && test $MOON = 'Io' 

