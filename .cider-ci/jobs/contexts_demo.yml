_cider-ci_include: .cider-ci/shared/defaults.yml


task-defaults: 
  environment-variables:
     STAR: Sun
     PLANET: Earth
     MOON: Moon
  
tasks: 

  earth-check:
    name: Earth Check
    scripts: 
      main:
        body: |
          test $STAR = 'Sun'  \
          && test $PLANET = 'Earth' \
          && test $MOON = 'Moon' 

subcontexts: 

  jupiter:

    name: Jupiter 

    task-defaults: 
      environment-variables:
        PLANET: Jupiter

    tasks: 
      jupiter-check:
        name: Jupiter Check
        scripts: 
          main:
            body: |
              test $STAR = 'Sun'  \
              && test $PLANET = 'Jupiter'

    subcontexts: 

      io:

        name: Io

        task-defaults: 
          environment-variables:
            MOON: Io

        tasks: 
          io-check:
            name: Io Check
            scripts: 
              main:
                body: |
                  test $STAR = 'Sun'  \
                  && test $PLANET = 'Jupiter' \
                  && test $MOON = 'Io' 

